---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import Button from "../ui/Button.astro";

// Importar imágenes locales
import webDevImage from "../assets/images/services/web-development.avif";
import mobileAppImage from "../assets/images/services/mobile-apps.avif";
import enterpriseImage from "../assets/images/services/enterprise-software.avif";

interface Service {
    id: string;
    title: string;
    shortDescription: string;
    fullDescription: string;
    image: {
        src: ImageMetadata; // Cambiado a ImageMetadata para imágenes locales
        alt: string;
    };
    features: string[];
    technologies: string[];
    benefits: string[];
}

const services: Service[] = [
    {
        id: "desarrollo-web",
        title: "Desarrollo Web",
        shortDescription: "Creamos sitios web y aplicaciones web personalizadas que destacan tu marca y aumentan tus conversiones.",
        fullDescription: "Desarrollamos soluciones web a medida utilizando las últimas tecnologías y mejores prácticas del mercado. Nos especializamos en crear experiencias digitales que impulsan el crecimiento de tu negocio.",
        image: {
            src: webDevImage,
            alt: "Desarrollo web profesional - Código en pantalla con diseño moderno"
        },
        features: [
            "Sitios web corporativos",
            "E-commerce",
            "Landing pages",
            "Aplicaciones web progresivas"
        ],
        technologies: [
            "React",
            "Astro",
            "Node.js",
            "Next.js"
        ],
        benefits: [
            "Alto rendimiento",
            "SEO optimizado",
            "Diseño responsive",
            "Seguridad avanzada"
        ]
    },
    {
        id: "aplicaciones-moviles",
        title: "Aplicaciones Móviles",
        shortDescription: "Desarrollamos aplicaciones móviles nativas y multiplataforma que conectan con tus usuarios donde estén.",
        fullDescription: "Creamos aplicaciones móviles intuitivas y potentes que transforman tu visión en realidad. Utilizamos tecnologías modernas para garantizar el mejor rendimiento y experiencia de usuario.",
        image: {
            src: mobileAppImage,
            alt: "Desarrollo de aplicaciones móviles - Dispositivos móviles mostrando apps modernas"
        },
        features: [
            "Apps iOS nativas",
            "Apps Android nativas",
            "Aplicaciones híbridas",
            "PWAs"
        ],
        technologies: [
            "React Native",
            "Flutter",
            "Swift",
            "Kotlin"
        ],
        benefits: [
            "Rendimiento nativo",
            "Experiencia fluida",
            "Multiplataforma",
            "Actualizaciones OTA"
        ]
    },
    {
        id: "software-empresarial",
        title: "Software Empresarial",
        shortDescription: "Automatizamos y optimizamos los procesos de tu empresa con soluciones de software a medida.",
        fullDescription: "Desarrollamos soluciones empresariales personalizadas que mejoran la eficiencia operativa y impulsan el crecimiento de tu negocio.",
        image: {
            src: enterpriseImage,
            alt: "Software empresarial - Dashboard moderno mostrando análisis de datos"
        },
        features: [
            "ERPs personalizados",
            "CRMs a medida",
            "Business Intelligence",
            "Automatización"
        ],
        technologies: [
            "Python",
            "Java",
            "Docker",
            "AWS"
        ],
        benefits: [
            "Escalabilidad",
            "Integración",
            "Análisis en tiempo real",
            "Soporte 24/7"
        ]
    }
];

const title = "Servicios de Desarrollo Web en Colombia | Nexen";
const metaTitle = "Servicios de Desarrollo Web en Colombia | Nexen";
const description = "Servicios profesionales de desarrollo web en Cali y toda Colombia. Creamos sitios web personalizados, aplicaciones móviles y software empresarial optimizados para SEO.";
const url = "https://www.nexen.com.co/servicios/";
const canonical = "https://www.nexen.com.co/servicios/";
// Keywords optimizadas y reducidas
const keywords = [
    "servicios desarrollo web Colombia",
    "agencia desarrollo web Cali",
    "diseño web Valle del Cauca",
    "desarrollo aplicaciones móviles",
    "software empresarial Colombia"
];
---
<Layout title={title} metaTitle={metaTitle} description={description} url={url} canonical={canonical} keywords={keywords}>
    <section class="py-24 bg-[#E0E1DD] relative">
        <div class="container mx-auto px-4">
            <div class="max-w-7xl mx-auto">
                <!-- Header Section mejorado con keywords prioritarias -->
                <div class="text-center mb-16" data-aos="fade-up">
                    <span class="text-[#415A77] font-medium mb-4 block tracking-wider uppercase text-sm">
                        SERVICIOS DE DESARROLLO
                    </span>
                    <h1 class="text-4xl md:text-5xl font-bold text-[#0D1B2A] mb-6">
                        Desarrollo Web y Tecnológico en
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#415A77] to-[#1B263B]">
                            Colombia
                        </span>
                    </h1>
                    <p class="text-xl text-[#1B263B] max-w-3xl mx-auto leading-relaxed">
                        Soluciones digitales personalizadas para empresas en <strong>Cali</strong> y todo el <strong>Valle del Cauca</strong>. 
                        Impulsamos tu crecimiento con tecnologías modernas y optimización SEO.
                    </p>
                </div>

                <!-- Services Grid con microdatos Schema.org -->
                <div 
                    class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"
                    itemscope 
                    itemtype="https://schema.org/ItemList"
                >
                    <meta itemprop="numberOfItems" content={services.length.toString()} />
                    
                    {services.map((service, index) => (
                        <a 
                            href={`/servicios/${service.id}/`}
                            class="group relative bg-white rounded-2xl overflow-hidden border border-[#778DA9]/20
                                transition-all duration-500 hover:-translate-y-2 hover:shadow-xl 
                                hover:shadow-[#415A77]/10"
                            data-aos="fade-up"
                            data-aos-delay={index * 100}
                            itemprop="itemListElement"
                            itemscope
                            itemtype="https://schema.org/ListItem"
                        >
                            <meta itemprop="position" content={(index + 1).toString()} />
                            
                            <div 
                                itemscope 
                                itemtype="https://schema.org/Service"
                                itemprop="item"
                            >
                                <meta itemprop="name" content={service.title} />
                                <meta itemprop="description" content={service.shortDescription} />
                                <link itemprop="url" href={`https://www.nexen.com.co/servicios/${service.id}/`} />
                                
                                <div class="aspect-video overflow-hidden">
                                    <Image
                                        src={service.image.src}
                                        alt={service.title}
                                        width={800}
                                        height={400}
                                        class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
                                        loading="eager"
                                        decoding="async"
                                        format="webp"
                                        quality={85}
                                        sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
                                    />
                                </div>

                                <div class="p-8">
                                    <h2 class="text-2xl font-bold text-[#0D1B2A] mb-4 
                                        transition-colors duration-300 group-hover:text-[#415A77]"
                                        itemprop="headline"
                                    >
                                        {service.title}
                                    </h2>
                                    <p class="text-[#1B263B] mb-6 line-clamp-3">
                                        {service.shortDescription}
                                    </p>

                                    <!-- Features Preview -->
                                    <div class="flex flex-wrap gap-2 mb-6">
                                        {service.features.slice(0, 3).map(feature => (
                                            <span class="text-sm px-3 py-1 rounded-full bg-[#E0E1DD] 
                                                text-[#1B263B] border border-[#778DA9]/20
                                                transition-colors duration-300 group-hover:bg-[#415A77]/10
                                                group-hover:text-[#415A77] group-hover:border-[#415A77]/30"
                                                itemprop="serviceType"
                                            >
                                                {feature}
                                            </span>
                                        ))}
                                    </div>

                                    <Button text="Explorar Servicio" 
                                        className="bg-[#415A77] hover:bg-[#1B263B] text-[#E0E1DD] border-0" 
                                        hasIcon 
                                        ariaLabel={`Explorar servicio de ${service.title}`} 
                                    />
                                </div>
                            </div>
                        </a>
                    ))}
                </div>
            </div>
        </div>
        
        <!-- Schema.org completo para la página de servicios -->
        <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "WebPage",
          "name": "Servicios de Desarrollo Web en Colombia",
          "description": "Servicios profesionales de desarrollo web en Cali y toda Colombia. Creamos sitios web personalizados, aplicaciones móviles y software empresarial optimizados para SEO.",
          "url": "https://www.nexen.com.co/servicios/",
          "provider": {
            "@type": "Organization",
            "name": "Nexen",
            "description": "Agencia de desarrollo web profesional en Colombia",
            "url": "https://www.nexen.com.co/",
            "address": {
              "@type": "PostalAddress",
              "addressLocality": "Cali",
              "addressRegion": "Valle del Cauca",
              "addressCountry": "CO"
            }
          },
          "offers": {
            "@type": "Offer",
            "areaServed": ["Cali", "Valle del Cauca", "Bogotá", "Colombia"],
            "availableLanguage": ["Spanish", "English"]
          },
          "specialty": [
            "Desarrollo Web Profesional",
            "Diseño Web Responsivo",
            "Aplicaciones Móviles",
            "Software Empresarial",
            "SEO Local Colombia"
          ]
        }
        </script>
    </section>
</Layout>