---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import Button from "../ui/Button.astro";

interface BlogPost {
    id: string;
    title: string;
    description: string;
    publishDate: string;
    image: {
        src: string;
        alt: string;
    };
    tags: string[];
    readTime: string;
    category: string; // Nueva propiedad para categorizar
}

// Contenido estratégico enfocado en empresas y resultados, no en detalles técnicos
const blogPosts: BlogPost[] = [
    {
        id: "aumentar-ventas-sitio-web-colombia",
        title: "Cómo Aumentar tus Ventas con un Sitio Web Optimizado en Colombia",
        description:
            "Descubre las 7 características que debe tener tu sitio web para incrementar ventas y conversiones en el mercado colombiano. Análisis y recomendaciones.",
        publishDate: "2024-02-10",
        image: {
            src: "https://images.unsplash.com/photo-1553877522-43269d4ea984?auto=format&fit=crop&q=80",
            alt: "Gráfico de crecimiento de ventas online para empresas colombianas",
        },
        tags: ["Ventas Online", "Conversiones", "Sitios Web", "Colombia"],
        readTime: "6 min",
        category: "Estrategia Digital"
    },
    {
        id: "caso-exito-ecommerce-cali",
        title: "Caso de Éxito: Cómo una Tienda de Cali Triplicó sus Ventas Online",
        description:
            "Análisis del proceso de transformación digital de una PyME en Cali que logró triplicar sus ventas implementando una estrategia web efectiva.",
        publishDate: "2024-01-25",
        image: {
            src: "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?auto=format&fit=crop&q=80",
            alt: "Tienda local de Cali que incrementó sus ventas con comercio electrónico",
        },
        tags: ["Caso de Éxito", "E-commerce", "Cali", "PyMEs"],
        readTime: "8 min",
        category: "Casos de Éxito"
    },
    {
        id: "guia-seo-local-colombia-2024",
        title: "Guía Completa de SEO Local para Empresas Colombianas (2024)",
        description:
            "Estrategias probadas para mejorar el posicionamiento de tu negocio en búsquedas locales. Optimización para Google Colombia y directorios locales.",
        publishDate: "2024-01-15",
        image: {
            src: "https://images.unsplash.com/photo-1432888498266-38ffec3eaf0a?auto=format&fit=crop&q=80",
            alt: "Optimización SEO local para empresas en Colombia",
        },
        tags: ["SEO Local", "Google Maps", "Posicionamiento Local", "Colombia"],
        readTime: "7 min",
        category: "Marketing Digital"
    },
    {
        id: "sitio-web-vs-redes-sociales-empresas",
        title: "Sitio Web vs. Redes Sociales: Qué Necesita tu Empresa en Colombia",
        description:
            "Análisis comparativo sobre la importancia de un sitio web profesional frente a perfiles en redes sociales para empresas colombianas. Ventajas y estrategias.",
        publishDate: "2024-01-05",
        image: {
            src: "https://images.unsplash.com/photo-1611162617213-7d7a39e9b1d7?auto=format&fit=crop&q=80",
            alt: "Comparación entre sitio web profesional y redes sociales para empresas",
        },
        tags: ["Sitios Web", "Redes Sociales", "Estrategia Digital", "Empresas"],
        readTime: "6 min",
        category: "Estrategia Digital"
    },
    {
        id: "velocidad-carga-impacto-ventas",
        title: "El Impacto de la Velocidad de Carga en tus Ventas: Estudio Colombia",
        description:
            "Investigación sobre cómo la velocidad de carga afecta las conversiones en sitios web colombianos. Datos reales y soluciones para mejorar el rendimiento.",
        publishDate: "2023-12-15",
        image: {
            src: "https://images.unsplash.com/photo-1580894894513-541e068a3e2b?auto=format&fit=crop&q=80",
            alt: "Análisis de velocidad de carga y su impacto en conversiones",
        },
        tags: ["Velocidad Web", "Conversiones", "Rendimiento", "UX"],
        readTime: "5 min",
        category: "Análisis Técnico"
    },
    {
        id: "tendencias-diseno-web-colombia-2024",
        title: "Tendencias en Diseño Web para Empresas Colombianas en 2024",
        description:
            "Descubre las tendencias de diseño web más efectivas para conectar con el público colombiano. Elementos visuales, UX y estrategias de conversión actualizadas.",
        publishDate: "2023-12-01",
        image: {
            src: "https://images.unsplash.com/photo-1545235617-9465d2a55698?auto=format&fit=crop&q=80",
            alt: "Tendencias de diseño web para el mercado colombiano en 2024",
        },
        tags: ["Diseño Web", "Tendencias", "UX/UI", "2024"],
        readTime: "7 min",
        category: "Diseño y UX"
    }
];

// Categorías para filtrado
const categories = [...new Set(blogPosts.map(post => post.category))];

// Metadatos optimizados para SEO
const title = "Blog de Marketing Digital y Desarrollo Web | Nexen";
const metaTitle = "Blog sobre Marketing Digital para Empresas Colombianas | Nexen";
const description =
    "Artículos, casos de éxito y estrategias de marketing digital y desarrollo web para empresas en Colombia. Aprende a incrementar ventas y posicionamiento.";
const url = "https://www.nexen.com.co/blog";
const canonical = "https://www.nexen.com.co/blog";
const keywords = [
    "blog marketing digital Colombia",
    "estrategias SEO empresas colombianas",
    "casos éxito desarrollo web Cali",
    "aumentar ventas online Colombia",
    "tendencias diseño web empresas"
];
---

<Layout title={title} metaTitle={metaTitle} description={description} url={url} canonical={canonical} keywords={keywords}>
    <section class="py-24 bg-[#E0E1DD]">
        <div class="container mx-auto px-4">
            <div class="max-w-7xl mx-auto">
                <!-- Header optimizado con enfoque empresarial -->
                <div class="text-center mb-16" data-aos="fade-up">
                    <span
                        class="text-[#415A77] font-medium mb-4 block tracking-wider uppercase text-sm"
                    >
                        RECURSOS PARA EMPRESAS
                    </span>
                    <h1
                        class="text-4xl md:text-5xl font-bold text-[#0D1B2A] mb-6"
                    >
                        Estrategias Digitales para
                        <span
                            class="text-transparent bg-clip-text bg-gradient-to-r from-[#415A77] to-[#1B263B]"
                        >
                            Empresas Colombianas
                        </span>
                    </h1>
                    <p
                        class="text-xl text-[#1B263B] max-w-3xl mx-auto leading-relaxed"
                    >
                        Casos de éxito, guías y estrategias para aumentar las ventas
                        y visibilidad de tu negocio en <strong>Colombia</strong>
                    </p>
                </div>

                <!-- Filtro por categorías -->
                <div class="flex flex-wrap justify-center gap-3 mb-12" data-aos="fade-up">
                    <button 
                        class="px-4 py-2 rounded-full bg-[#415A77] text-[#E0E1DD] font-medium border border-[#415A77] hover:bg-[#1B263B] transition-colors"
                        data-category="all"
                    >
                        Todos los artículos
                    </button>
                    
                    {categories.map(category => (
                        <button 
                            class="px-4 py-2 rounded-full bg-[#E0E1DD] text-[#1B263B] font-medium border border-[#778DA9]/20 hover:bg-[#778DA9]/20 transition-colors"
                            data-category={category}
                        >
                            {category}
                        </button>
                    ))}
                </div>

                <!-- Blog Grid con Schema.org -->
                <div 
                    class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"
                    itemscope 
                    itemtype="https://schema.org/Blog"
                >
                    {
                        blogPosts.map((post, index) => (
                            <article
                                class="group bg-white rounded-2xl overflow-hidden border border-[#778DA9]/20
                                transition-all duration-500 hover:-translate-y-2 hover:shadow-xl 
                                hover:shadow-[#415A77]/10"
                                data-aos="fade-up"
                                data-aos-delay={index * 100}
                                data-category={post.category}
                                itemscope
                                itemtype="https://schema.org/BlogPosting"
                            >
                                <link itemprop="url" href={`https://www.nexen.com.co/blog/${post.id}`} />
                                <meta itemprop="headline" content={post.title} />
                                <meta itemprop="description" content={post.description} />
                                <meta itemprop="datePublished" content={post.publishDate} />
                                <meta itemprop="author" content="Nexen" />
                                
                                {post.tags.map(tag => (
                                    <meta itemprop="keywords" content={tag} />
                                ))}
                                
                                <a href={`/blog/${post.id}`} class="block">
                                    <div class="relative aspect-video overflow-hidden">
                                        <Image
                                            src={post.image.src}
                                            alt={post.image.alt}
                                            loading="lazy"
                                            decoding="async"
                                            quality={80}
                                            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                                            width="800"
                                            height="400"
                                            itemprop="image"
                                        />
                                        
                                        <!-- Etiqueta de categoría -->
                                        <span class="absolute top-4 right-4 px-3 py-1 text-xs font-medium rounded-full bg-[#415A77]/90 text-[#E0E1DD]">
                                            {post.category}
                                        </span>
                                    </div>

                                    <div class="p-6">
                                        <div class="flex items-center gap-4 mb-4">
                                            <time
                                                datetime={post.publishDate}
                                                class="text-sm text-[#1B263B]/70"
                                                itemprop="datePublished"
                                            >
                                                {new Date(
                                                    post.publishDate,
                                                ).toLocaleDateString("es-ES", {
                                                    year: "numeric",
                                                    month: "long",
                                                    day: "numeric",
                                                })}
                                            </time>
                                            <span class="text-sm text-[#1B263B]/70">
                                                ·
                                            </span>
                                            <span class="text-sm text-[#1B263B]/70">
                                                {post.readTime} lectura
                                            </span>
                                        </div>

                                        <h2
                                            class="text-xl font-bold text-[#0D1B2A] mb-3 
                                            transition-colors duration-300 group-hover:text-[#415A77]"
                                            itemprop="headline"
                                        >
                                            {post.title}
                                        </h2>

                                        <p class="text-[#1B263B] mb-6 line-clamp-3 text-sm" itemprop="abstract">
                                            {post.description}
                                        </p>

                                        <div class="flex flex-wrap gap-2">
                                            {post.tags
                                                .slice(0, 3)
                                                .map((tag) => (
                                                    <span
                                                        class="text-xs px-3 py-1 rounded-full bg-[#E0E1DD] 
                                                        text-[#1B263B] border border-[#778DA9]/20"
                                                    >
                                                        {tag}
                                                    </span>
                                                ))}
                                        </div>
                                    </div>
                                </a>
                            </article>
                        ))
                    }
                </div>
            </div>
        </div>
        
        <!-- Script para filtrado de categorías -->
        <script>
            // Simple filtrado de categorías
            document.addEventListener('DOMContentLoaded', () => {
                const filterButtons = document.querySelectorAll('[data-category]');
                const articles = document.querySelectorAll('article[data-category]');
                
                filterButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        // Resaltar botón activo
                        filterButtons.forEach(btn => {
                            btn.classList.remove('bg-[#415A77]', 'text-[#E0E1DD]', 'border-[#415A77]');
                            btn.classList.add('bg-[#E0E1DD]', 'text-[#1B263B]', 'border-[#778DA9]/20');
                        });
                        
                        button.classList.remove('bg-[#E0E1DD]', 'text-[#1B263B]', 'border-[#778DA9]/20');
                        button.classList.add('bg-[#415A77]', 'text-[#E0E1DD]', 'border-[#415A77]');
                        
                        const category = button.getAttribute('data-category');
                        
                        articles.forEach(article => {
                            if (category === 'all' || article.getAttribute('data-category') === category) {
                                (article as HTMLElement).style.display = '';
                            } else {
                                (article as HTMLElement).style.display = 'none';
                            }
                        });
                    });
                });
            });
        </script>
        
        <!-- Schema.org para la página de blog -->
        <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Blog",
          "name": "Blog de Marketing Digital para Empresas Colombianas",
          "url": "https://www.nexen.com.co/blog",
          "description": "Artículos, casos de éxito y estrategias de marketing digital y desarrollo web para empresas en Colombia.",
          "publisher": {
            "@type": "Organization",
            "name": "",
            "url": "https://www.nexen.com.co",
            "logo": {
              "@type": "ImageObject",
              "url": "https://www.nexen.com.co/logo.svg"
            }
          },
          "blogPost": [
            {
              "@type": "BlogPosting",
              "headline": "Cómo Aumentar tus Ventas con un Sitio Web Optimizado en Colombia",
              "description": "Descubre las 7 características que debe tener tu sitio web para incrementar ventas y conversiones en el mercado colombiano. Análisis y recomendaciones.",
              "url": "https://www.nexen.com.co/blog/aumentar-ventas-sitio-web-colombia",
              "datePublished": "2024-02-10",
              "author": {
                "@type": "Organization",
                "name": "Nexen"
              },
              "publisher": {
                "@type": "Organization",
                "name": "Nexen"
              },
              "keywords": ["Ventas Online", "Conversiones", "Sitios Web", "Colombia"]
            },
            {
              "@type": "BlogPosting",
              "headline": "Caso de Éxito: Cómo una Tienda de Cali Triplicó sus Ventas Online",
              "description": "Análisis del proceso de transformación digital de una PyME en Cali que logró triplicar sus ventas implementando una estrategia web efectiva.",
              "url": "https://www.nexen.com.co/blog/caso-exito-ecommerce-cali",
              "datePublished": "2024-01-25",
              "author": {
                "@type": "Organization",
                "name": "Nexen"
              },
              "publisher": {
                "@type": "Organization",
                "name": "Nexen"
              },
              "keywords": ["Caso de Éxito", "E-commerce", "Cali", "PyMEs"]
            },
            {
              "@type": "BlogPosting",
              "headline": "Guía Completa de SEO Local para Empresas Colombianas (2024)",
              "description": "Estrategias probadas para mejorar el posicionamiento de tu negocio en búsquedas locales. Optimización para Google Colombia y directorios locales.",
              "url": "https://www.nexen.com.co/blog/guia-seo-local-colombia-2024",
              "datePublished": "2024-01-15",
              "author": {
                "@type": "Organization",
                "name": "Nexen"
              },
              "publisher": {
                "@type": "Organization",
                "name": "Nexen"
              },
              "keywords": ["SEO Local", "Google Maps", "Posicionamiento Local", "Colombia"]
            }
          ]
        }
        </script>
    </section>
</Layout>