---
import Button from "../ui/Button.astro";

const contactMethods = [
    {
        title: "Email Directo",
        description: "Respuesta garantizada en 24h",
        value: "comunicaciones@estuscode.com",
        icon: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>`,
    },
    {
        title: "WhatsApp",
        description: "Lun-Vie 9:00-18:00",
        value: "+57 305 281 8108",
        href: "https://wa.me/573052818108?text=Hola%20EstusCode,%20me%20interesa%20conocer%20más%20sobre%20sus%20servicios.",
        icon: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>`,
    },
];

const projectScopes = [
    "Landing Page",
    "Sitio Web Corporativo",
    "E-commerce",
    "Aplicación Web",
    "Software Empresarial",
    "Otro",
];

const budgetRanges = [
    "< $2,000,000 COP",
    "$2,000,000 - $5,000,000 COP",
    "$5,000,000 - $10,000,000 COP",
    "$10,000,000 - $20,000,000 COP",
    "$20,000,000 - $50,000,000 COP",
    "> $50,000,000 COP",
];
---

<section
    id="contacto"
    class="py-24 bg-gradient-to-b from-[#E0E1DD] to-[#778DA9]/20"
>
    <div class="container mx-auto px-4">
        <div class="max-w-7xl mx-auto">
            <!-- Header Section -->
            <div class="text-center mb-16" data-aos="fade-up">
                <span
                    class="text-[#415A77] font-medium mb-4 block tracking-wider uppercase text-sm"
                >
                    CONTACTO
                </span>
                <h2 class="text-4xl md:text-5xl font-bold text-[#0D1B2A] mb-6">
                    Inicia tu Proyecto
                    <span
                        class="text-transparent bg-clip-text bg-gradient-to-r from-[#415A77] to-[#1B263B]"
                    >
                        Digital
                    </span>
                </h2>
                <p
                    class="text-xl text-[#1B263B] max-w-3xl mx-auto leading-relaxed"
                >
                    Cuéntanos sobre tu proyecto y te ayudaremos a hacerlo
                    realidad con las mejores tecnologías
                </p>
            </div>

            <div class="grid lg:grid-cols-12 gap-8 items-start">
                <!-- Form Section -->
                <div
                    class="lg:col-span-8 bg-white rounded-3xl p-8 shadow-2xl shadow-[#415A77]/10
                    border border-[#778DA9]/10"
                    data-aos="fade-up"
                >
                    <form
                        class="space-y-8"
                        method="POST"
                        action="https://formspree.io/f/mqaeyajz"
                    >
                        <!-- Campos ocultos simplificados - evitamos exceso de campos ocultos -->
                        <input
                            type="hidden"
                            name="_subject"
                            value="Nuevo contacto desde web"
                        />

                        <!-- Project Information -->
                        <div class="space-y-6">
                            <h3 class="text-2xl font-semibold text-[#0D1B2A]">
                                Información del Proyecto
                            </h3>

                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="space-y-2">
                                    <label
                                        for="nombre"
                                        class="text-sm font-medium text-[#1B263B]"
                                    >
                                        Nombre completo *
                                    </label>
                                    <input
                                        type="text"
                                        id="nombre"
                                        name="nombre"
                                        required
                                        class="w-full px-4 py-3 rounded-xl bg-[#E0E1DD]/50 border border-[#778DA9]/20
                                            focus:border-[#415A77] focus:ring-2 focus:ring-[#415A77]/20
                                            transition-all duration-300"
                                        placeholder="Juan Pérez"
                                    />
                                </div>
                                <div class="space-y-2">
                                    <label
                                        for="email"
                                        class="text-sm font-medium text-[#1B263B]"
                                    >
                                        Email de contacto *
                                    </label>
                                    <input
                                        type="email"
                                        id="email"
                                        name="email"
                                        required
                                        class="w-full px-4 py-3 rounded-xl bg-[#E0E1DD]/50 border border-[#778DA9]/20
                                            focus:border-[#415A77] focus:ring-2 focus:ring-[#415A77]/20
                                            transition-all duration-300"
                                        placeholder="juan@empresa.com"
                                    />
                                </div>
                            </div>

                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="space-y-2">
                                    <label
                                        for="asunto"
                                        class="text-sm font-medium text-[#1B263B]"
                                    >
                                        Tipo de proyecto *
                                    </label>
                                    <select
                                        id="asunto"
                                        name="asunto"
                                        required
                                        class="w-full px-4 py-3 rounded-xl bg-[#E0E1DD]/50 border border-[#778DA9]/20
                                            focus:border-[#415A77] focus:ring-2 focus:ring-[#415A77]/20
                                            transition-all duration-300"
                                    >
                                        <option value=""
                                            >Selecciona una opción</option
                                        >
                                        {
                                            projectScopes.map((scope) => (
                                                <option value={scope}>
                                                    {scope}
                                                </option>
                                            ))
                                        }
                                    </select>
                                </div>
                                <div class="space-y-2 hidden">
                                    <!-- Ocultamos el campo de presupuesto que podría estar causando el filtro de spam -->
                                    <input
                                        type="hidden"
                                        name="presupuesto"
                                        value="Por definir"
                                    />
                                </div>
                            </div>
                        </div>

                        <!-- Project Details -->
                        <div class="space-y-4">
                            <label
                                for="mensaje"
                                class="text-sm font-medium text-[#1B263B]"
                            >
                                Detalles del proyecto *
                            </label>
                            <textarea
                                id="mensaje"
                                name="mensaje"
                                required
                                rows="6"
                                class="w-full px-4 py-3 rounded-xl bg-[#E0E1DD]/50 border border-[#778DA9]/20
                                    focus:border-[#415A77] focus:ring-2 focus:ring-[#415A77]/20
                                    transition-all duration-300"
                                placeholder="Describe tu proyecto, objetivos y cualquier detalle relevante..."
                            ></textarea>
                        </div>

                        <!-- Consent Checkbox -->
                        <div class="space-y-2">
                            <div class="flex items-start">
                                <input
                                    type="checkbox"
                                    id="consentimiento"
                                    name="consentimiento"
                                    required
                                    class="mt-1 h-4 w-4 rounded border-[#778DA9]/30 text-[#415A77] focus:ring-[#415A77]"
                                />
                                <label
                                    for="consentimiento"
                                    class="ml-2 block text-sm text-[#1B263B]"
                                >
                                    Acepto ser contactado y doy mi
                                    consentimiento para el procesamiento de mis
                                    datos personales *
                                </label>
                            </div>
                        </div>

                        <div class="flex mt-8">
                            <button
                                type="submit"
                                class="w-full inline-flex items-center justify-center gap-2 px-6 py-4 rounded-full font-medium text-lg transition-all duration-200 hover:scale-[1.05] active:scale-[0.95] focus:outline-none focus:ring-2 focus:ring-offset-2 will-change-transform bg-[#415A77] text-[#E0E1DD] hover:bg-[#1B263B] focus:ring-[#415A77]/40"
                            >
                                Enviar Mensaje
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="w-5 h-5"
                                    viewBox="0 0 20 20"
                                    fill="currentColor"
                                >
                                    <path
                                        fill-rule="evenodd"
                                        d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
                                        clip-rule="evenodd"></path>
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Contact Info Sidebar -->
                <div
                    class="lg:col-span-4 space-y-6"
                    data-aos="fade-up"
                    data-aos-delay="100"
                >
                    {
                        contactMethods.map((method) => (
                            <div
                                class="bg-white rounded-2xl p-6 border border-[#778DA9]/10 
                                transition-all duration-300 hover:shadow-lg hover:shadow-[#415A77]/5
                                hover:-translate-y-1"
                            >
                                <div class="flex items-center gap-4">
                                    <div
                                        class="w-12 h-12 rounded-xl bg-[#E0E1DD] flex items-center 
                                        justify-center transition-colors duration-300 
                                        group-hover:bg-[#778DA9]/10"
                                    >
                                        <svg
                                            class="w-6 h-6 text-[#415A77]"
                                            fill="none"
                                            stroke="currentColor"
                                            viewBox="0 0 24 24"
                                            set:html={method.icon}
                                        />
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-[#0D1B2A]">
                                            {method.title}
                                        </h3>
                                        <p class="text-[#1B263B]/70 text-sm">
                                            {method.description}
                                        </p>
                                        <a
                                            href={
                                                method.href ||
                                                `mailto:${method.value}`
                                            }
                                            class="text-[#415A77] font-medium hover:text-[#1B263B] 
                                            transition-colors duration-300"
                                        >
                                            {method.value}
                                        </a>
                                    </div>
                                </div>
                            </div>
                        ))
                    }

                    <!-- Additional Info Card -->
                    <div
                        class="bg-gradient-to-br from-[#415A77]/10 to-[#778DA9]/10 rounded-2xl p-8
                        border border-[#415A77]/20"
                    >
                        <h3 class="text-xl font-bold text-[#0D1B2A] mb-4">
                            ¿Por qué elegirnos?
                        </h3>
                        <ul class="space-y-3">
                            {
                                [
                                    "Tecnologías de vanguardia",
                                    "Soporte continuo",
                                    "Resultados garantizados",
                                ].map((benefit) => (
                                    <li class="flex items-center gap-3 text-[#1B263B]">
                                        <svg
                                            class="w-5 h-5 text-[#415A77]"
                                            viewBox="0 0 20 20"
                                            fill="currentColor"
                                        >
                                            <path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" />
                                        </svg>
                                        {benefit}
                                    </li>
                                ))
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
